Báo Cáo Nghiên Cứu Chuyên Sâu: Thiết Kế Trải Nghiệm & Kiến Trúc User Flow Cho Ứng Dụng Đặt Lịch Spa Đa Bước (Booking Wizard) Trên Nền Tảng Mobile1. Tổng Quan Điều Hành & Phạm Vi Nghiên CứuTrong kỷ nguyên số hóa của ngành công nghiệp sức khỏe và làm đẹp (Wellness & Beauty), trải nghiệm đặt lịch (booking experience) không chỉ đơn thuần là một chức năng tiện ích mà chính là điểm chạm cốt lõi quyết định tỷ lệ chuyển đổi (conversion rate) và sự hài lòng của khách hàng. Báo cáo này được xây dựng dựa trên yêu cầu thiết kế một tính năng "Booking Wizard" (Trình hướng dẫn đặt lịch) cho ứng dụng Spa, hoạt động trên nền tảng Mobile-first với stack công nghệ hiện đại bao gồm Next.js 16, Supabase, React Hook Form và thư viện giao diện shadcn/ui.Mục tiêu của báo cáo là phân tích toàn diện và đề xuất một luồng người dùng (User Flow) tối ưu, giải quyết bài toán phức tạp về phân bổ nguồn lực (thông qua Backend OR-Tools) trong khi vẫn đảm bảo giao diện tối giản, thân thiện với thao tác ngón cái (thumb-friendly) và tuân thủ các ràng buộc nghiêm ngặt về số lượng hành động trên mỗi màn hình.Đặc biệt, báo cáo này không chỉ tập trung vào trải nghiệm của Khách hàng cuối (End-User) mà còn tích hợp góc nhìn của Lễ tân (Receptionist) - đối tượng người dùng nội bộ với các nhu cầu đặc thù về quản lý và xử lý ngoại lệ.2. Phân Tích Bối Cảnh & Nguyên Lý Thiết Kế2.1 Triết Lý Mobile-First Trong Ngành SpaNgười dùng hiện đại mong đợi sự tức thì và khả năng kiểm soát trong lòng bàn tay. Các nghiên cứu chỉ ra rằng người dùng Spa không chỉ muốn đặt lịch hẹn; họ muốn xem tính khả dụng trong thời gian thực, chọn kỹ thuật viên yêu thích và thanh toán an toàn chỉ trong vài phút.1Thách thức lớn nhất khi thiết kế cho mobile là không gian hiển thị hạn chế (screen real estate). Việc nhồi nhét thông tin vào một màn hình nhỏ sẽ dẫn đến quá tải nhận thức (cognitive overload). Do đó, mô hình "Booking Wizard" - chia nhỏ quy trình phức tạp thành các bước tuần tự - là giải pháp tiêu chuẩn và hiệu quả nhất.2 Tuy nhiên, để Wizard hoạt động hiệu quả trên mobile, nó phải tuân thủ quy tắc "ngón cái" (thumb zone).Bảng 1: Phân Tích Vùng Thao Tác Ngón Cái (Thumb Zone Analysis)Vùng Màn HìnhMức Độ Tiếp CậnLoại Thành Phần UI Đề XuấtVí Dụ Cụ Thể Trong App SpaVùng Tự Nhiên (Bottom)Dễ dàng nhấtNút điều hướng chính (Next, Confirm), Tab BarNút "Tiếp tục", Thanh chọn ngàyVùng Kéo Dãn (Middle)Trung bìnhNội dung cuộn, Lựa chọn phụDanh sách dịch vụ, Slot thời gianVùng Khó (Top)Khó tiếp cậnThông tin hiển thị, Tiêu đề, Nút Back (ít dùng)Progress Bar, Tiêu đề bước, Nút Back2.2 Ràng Buộc Kỹ Thuật & Công NghệViệc lựa chọn Next.js 16 và Supabase đặt nền tảng cho một ứng dụng có hiệu năng cao và khả năng phản hồi thời gian thực (Real-time feedback).Next.js 16 & Server Actions: Cho phép xử lý logic phức tạp (như gọi API tới OR-Tools) ngay trên server và trả về kết quả cho client mà không để lộ logic nghiệp vụ hay key API. Điều này cực kỳ quan trọng để bảo mật thuật toán tối ưu hóa lịch của Spa.Supabase Realtime: Là chìa khóa cho tính năng "Giữ chỗ tạm thời" (Temporary Hold). Khi một khách hàng chọn slot giờ, Supabase có thể broadcast trạng thái này tới tất cả các client khác ngay lập tức để ngăn chặn việc đặt trùng (double-booking).3Shadcn/ui & Radix UI: Việc sử dụng shadcn/ui (xây dựng trên Radix UI) đảm bảo các thành phần giao diện không chỉ đẹp (dễ tùy biến với Tailwind) mà còn đảm bảo tính truy cập (accessibility) - một yếu tố thường bị bỏ qua trong các app booking.52.3 Nguyên Tắc "Tối Giản Hóa" (Minimalism Constraints)Yêu cầu "max 3 hành động/màn hình" là một ràng buộc thiết kế thông minh nhưng đầy thách thức. Nó buộc chúng ta phải:Nhóm thông tin: Thay vì liệt kê 50 dịch vụ, ta phải nhóm chúng vào các danh mục (Categories).7Tự động hóa: Thay vì hỏi người dùng quá nhiều, hệ thống phải đưa ra các giá trị mặc định thông minh (Smart Defaults), ví dụ: tự chọn ngày hiện tại hoặc ngày có slot trống gần nhất.83. Kiến Trúc User Flow Chi Tiết: Luồng Đặt Lịch Đa BướcDựa trên phân tích hành vi người dùng và các nghiên cứu điển hình 7, luồng người dùng tối ưu được xác định là:Chọn Dịch Vụ (Service) → Chọn Kỹ Thuật Viên (Technician) → Chọn Thời Gian (Time) → Thanh Toán & Xác Nhận (Payment).Lý do cho trình tự này là sự phụ thuộc logic: Thời gian trống phụ thuộc vào Dịch vụ (thời lượng) và Kỹ thuật viên (lịch làm việc). Đảo ngược quy trình (ví dụ: Chọn giờ trước) sẽ tạo ra sự phức tạp không cần thiết khi lọc dịch vụ phù hợp với khung giờ đó.103.1 Bước 1: Chọn Dịch Vụ (Discovery & Selection)Đây là điểm khởi đầu của hành trình. Mục tiêu là giúp người dùng tìm thấy dịch vụ mong muốn nhanh nhất có thể mà không bị lạc trong "ma trận" lựa chọn.3.1.1 Giao Diện Danh Sách (List View) Tối Ưu HóaNhiều ứng dụng Spa mắc lỗi sử dụng dạng lưới (Grid View) với hình ảnh lớn để gây ấn tượng thị giác. Tuy nhiên, trên mobile, dạng lưới làm giảm mật độ thông tin và buộc người dùng phải cuộn (scroll) quá nhiều.11 Đối với mục đích đặt lịch, người dùng cần so sánh Tên dịch vụ, Giá tiền, và Thời lượng.Đề xuất UI: Sử dụng Card component của shadcn/ui theo layout ngang (Horizontal Layout).Trái: Thumbnail nhỏ (64x64px, rounded).Giữa: Tên dịch vụ (In đậm), Mô tả ngắn (1 dòng text-muted), Thời lượng (Có icon đồng hồ).Phải: Giá tiền (Nổi bật) và Checkbox/Nút Add.Tương tác: Khi người dùng chọn, Card sẽ đổi trạng thái (viền màu thương hiệu, checkbox chuyển xanh) để cung cấp phản hồi tức thì.3.1.2 Phân Loại & Điều HướngĐể tuân thủ quy tắc "max 3 hành động", không thể hiển thị một danh sách dài vô tận.Giải pháp: Sử dụng thanh Horizontal Scroll Tab (Tab cuộn ngang) ở trên cùng để phân loại: "Massage", "Chăm sóc da", "Trị liệu", "Gói Combo".Logic tìm kiếm: Một thanh tìm kiếm (Input component) dính (sticky) ở ngay dưới header giúp khách hàng quen thuộc tìm nhanh dịch vụ cụ thể (ví dụ: "Đá nóng").3.1.3 Cơ Chế "Giỏ Hàng Mini" (Floating Action Bar)Thay vì chuyển trang để xem lại các dịch vụ đã chọn, một thanh bar nổi ở đáy màn hình (Floating Bottom Bar) sẽ xuất hiện ngay khi có dịch vụ được chọn.Hiển thị: "2 Dịch vụ đã chọn • Tổng: 1.500.000đ • 90 phút".Hành động: Nút "Tiếp tục" (Next Step) nằm ngay trên thanh này, nằm trong vùng ngón cái thuận tiện nhất.13Insight: Việc hiển thị tổng thời gian (90 phút) là cực kỳ quan trọng để người dùng hình dung được cam kết thời gian của họ trước khi sang bước chọn giờ.3.2 Bước 2: Chọn Kỹ Thuật Viên (Resource Allocation)Bước này quyết định biến số quan trọng thứ hai cho thuật toán OR-Tools: Nguồn lực nhân sự.3.2.1 Chiến Lược "No Preference" (Không Ưu Tiên)Đây là tính năng quan trọng nhất đối với doanh nghiệp Spa để tối ưu hóa lịch trình.14 Nếu khách hàng chọn một kỹ thuật viên cụ thể, thuật toán bị bó buộc. Nếu chọn "Không ưu tiên", thuật toán có thể sắp xếp vào bất kỳ chỗ trống nào, giảm thiểu thời gian chết (idle time).Thiết kế UI: Tùy chọn "Bất kỳ ai" (Any Professional) phải được đặt ở vị trí đầu tiên (Top of list) và được thiết kế nổi bật nhất.Microcopy: Sử dụng ngôn từ khuyến khích như "Sớm nhất có thể" hoặc "Được đề xuất để có nhiều khung giờ trống nhất".163.2.2 Profile Kỹ Thuật ViênNếu khách hàng muốn chọn người cụ thể:Avatar: Sử dụng Avatar component của shadcn.Thông tin: Tên, Số sao đánh giá (Rating), và Chuyên môn.Chỉ báo tình trạng: Hiển thị nhãn nhỏ "Có chỗ hôm nay" (Available Today) để giảm thiểu việc người dùng chọn người đã kín lịch, gây thất vọng ở bước sau.173.3 Bước 3: Chọn Thời Gian (Temporal Negotiation - The Core)Đây là bước phức tạp nhất về mặt logic và giao diện, nơi sức mạnh của OR-Tools được thể hiện.3.3.1 Thách Thức Hiển Thị Thời Gian Trên MobileCác bộ chọn thời gian truyền thống (như bánh xe cuộn - scroll wheels) thường không trực quan cho việc nhìn tổng quan tính khả dụng.18 Lịch dạng lưới (Calendar grid) lại quá nhỏ trên điện thoại.Giải pháp: Mô hình Split View (Chia đôi).Phần Trên (Ngày): Một dải ngang hiển thị các ngày trong tuần (Horizontal Date Picker). Ví dụ: "T2 12/10", "T3 13/10". Người dùng vuốt ngang để chọn ngày.Phần Dưới (Giờ): Danh sách các khung giờ (Time Slots) khả dụng cho ngày đó.3.3.2 Phân Nhóm Slot Theo Buổi (Chunking Strategy)Để tránh việc người dùng phải lướt qua hàng chục slot giờ (ví dụ: cứ 15 phút một slot), ta cần nhóm chúng lại.10Sáng (Morning): Mở cửa - 12:00 PM.Chiều (Afternoon): 12:00 PM - 17:00 PM.Tối (Evening): 17:00 PM - Đóng cửa.Lợi ích: Người dùng thường có định hướng tư duy như "Tôi muốn đi spa vào chiều thứ 7". Việc phân nhóm giúp họ tìm đến vùng mong muốn nhanh hơn (giảm tải nhận thức).3.3.3 Tương Tác Với Slot Thời GianMỗi slot thời gian là một Badge hoặc Button (variant: outline) của shadcn.Trạng thái (States):Trống (Available): Màu nền trắng, viền xám, chữ đen.Đang chọn (Selected): Màu nền thương hiệu (Brand color), chữ trắng.Đã kín (Booked/Unavailable): Ẩn đi hoặc làm mờ (Grayed out) và không thể bấm.20Cơ chế OR-Tools: Backend OR-Tools sẽ tính toán dựa trên Tổng thời gian dịch vụ (đã chọn ở Bước 1) + Thời gian đệm (Buffer time) giữa các ca + Lịch của Kỹ thuật viên (đã chọn ở Bước 2). UI chỉ hiển thị kết quả cuối cùng ("Slot bắt đầu khả dụng").3.4 Bước 4: Thanh Toán & Xác Nhận (Commitment)3.4.1 Màn Hình Tổng Hợp (Booking Summary)Trước khi thanh toán, hệ thống phải hiển thị một bản tóm tắt rõ ràng để xây dựng lòng tin.21Card Tổng hợp: Sử dụng Card với nền màu nhạt (bg-muted) chứa: Dịch vụ, Kỹ thuật viên, Thời gian (Ngày & Giờ bắt đầu - kết thúc), và Tổng tiền.Thông tin khách hàng: Nếu đã đăng nhập (qua Supabase Auth), tự điền Tên/SĐT. Nếu chưa, hiển thị Form đăng ký nhanh (chỉ cần Tên & SĐT).3.4.2 Phương Thức Thanh ToánHỗ trợ đa phương thức là yêu cầu bắt buộc:COD (Thanh toán tại quầy): Phổ biến ở Việt Nam. Cần xác thực OTP qua SMS để tránh đơn ảo.E-Wallet/Thẻ: Tích hợp cổng thanh toán (Momo, ZaloPay, Stripe).Lưu ý UX: Không bắt buộc tạo tài khoản rườm rà trước khi thanh toán (Guest Checkout) để tránh bỏ dở đơn hàng (Cart Abandonment).224. Cơ Chế "Giữ Chỗ Tạm Thời" (Temporary Hold)Trong môi trường Spa đông khách, việc hai khách hàng cùng nhìn thấy một slot trống và cố gắng đặt cùng lúc (Race condition) là rất cao. Tính năng "Giữ chỗ" giải quyết vấn đề này.4.1 Quy Trình Kỹ Thuật (Backend OR-Tools + Supabase)Kích hoạt: Ngay khi người dùng chạm (tap) vào một slot giờ ở Bước 3.Khóa (Locking): Client gửi request lên Server (Next.js Action). Server gọi Redis hoặc Database để tạo một bản ghi "Soft Lock" (Khóa mềm) cho slot đó kèm theo session_id và expiration_time (ví dụ: 5 phút).Đồng bộ: Supabase Realtime đẩy cập nhật về tất cả các client khác, làm mờ slot đó ngay lập tức (Real-time availability update).34.2 Thiết Kế UX: Đồng Hồ Đếm Ngược (Countdown Timer)Khi slot được khóa, người dùng cần biết họ có bao nhiêu thời gian để hoàn tất.23Vị trí: Một thanh thông báo mỏng (Sticky Alert) ở trên cùng màn hình hoặc ngay dưới Header.Hiển thị: "Đang giữ chỗ cho bạn trong 04:59".Màu sắc tâm lý:2 phút:* Màu xanh/trung tính (An toàn).< 1 phút:* Chuyển sang màu vàng/cam (Cảnh báo nhẹ).< 30 giây:* Màu đỏ (Khẩn cấp). Điều này kích thích tâm lý khan hiếm (Scarcity heuristic), thúc đẩy thanh toán nhanh hơn.244.3 Xử Lý Hết Hạn (Expiration Handling)Nếu đồng hồ về 00:00 mà chưa thanh toán:Không tự động thoát: Đừng "đá" người dùng ra trang chủ. Điều này gây ức chế cực độ (Frustration).Thông báo nhẹ nhàng: Hiển thị Modal hoặc Toast: "Thời gian giữ chỗ đã hết. Vui lòng kiểm tra lại tình trạng chỗ trống."Cơ chế: Nút "Thanh toán" bị vô hiệu hóa (Disabled). Người dùng phải bấm nút "Refresh" để kiểm tra lại. Nếu slot vẫn còn, khóa lại và reset timer. Nếu mất, hướng dẫn quay lại Bước 3.255. Góc Nhìn Người Dùng Nội Bộ: Lễ Tân (Receptionist Persona)Khác với Khách hàng, Lễ tân cần quyền lực và tốc độ cao hơn. Họ là người điều phối hệ thống.Bảng 2: So Sánh User Flow Khách Hàng vs. Lễ TânTính NăngKhách Hàng (App User)Lễ Tân (Admin/Tablet View)Luồng ĐặtTuần tự (Wizard), từng bước chặt chẽNhanh (Quick Add), trên một màn hình dashboardQuyền Chọn GiờChỉ thấy slot trống khả dụngCó thể thấy slot trống VÀ Ghi đè (Override) để Overbook (nếu cần thiết)Giữ ChỗBị giới hạn 5 phútKhông giới hạn hoặc giữ chỗ thủ công (Manual Hold)Thông Tin KháchTự nhập hoặc Auto-fill của bản thânTìm kiếm khách hàng cũ trong CRM, xem lịch sử trị liệuXử Lý Xung ĐộtBị từ chối nếu trùng lịchCó quyền quyết định ưu tiên hoặc dời lịch thủ côngImplication cho UI: Giao diện Lễ tân trên Tablet/Desktop sẽ không dùng Wizard từng bước mà dùng Scheduler View (Lịch timeline ngang - Gantt Chart) của thư viện như mobiscroll hoặc FullCalendar tích hợp trong shadcn Dashboard, cho phép kéo-thả (drag-and-drop) để đặt lịch nhanh.196. Thiết Kế Hệ Thống & Giao Diện (Design System with shadcn/ui)6.1 Sử Dụng Component Của shadcn/uishadcn/ui cung cấp các khối xây dựng (building blocks) hoàn hảo cho yêu cầu này:Stepper: Tùy biến từ Progress component. Đặt ở trên cùng (Header) để người dùng biết mình đang ở đâu (Ví dụ: Bước 2/4).27Sheet (Bottom Sheet): Dùng cho việc xem chi tiết dịch vụ mà không cần rời khỏi màn hình danh sách (Context preservation).Form: Sử dụng Form, FormControl, FormField kết hợp react-hook-form để quản lý trạng thái nhập liệu.Sonner (Toast): Dùng để thông báo lỗi ("Mất kết nối", "Slot vừa bị đặt") hoặc thành công ("Đã giữ chỗ") một cách tinh tế.6.2 Phong Cách "Thumb-Friendly" & Tối GiảnBottom Navigation: Các nút hành động chính ("Tiếp tục", "Quay lại") luôn được neo (fixed) ở đáy màn hình.Kích thước vùng chạm: Đảm bảo mọi nút bấm, thẻ chọn giờ đều có chiều cao tối thiểu 44-48px (theo chuẩn Apple/Google).13Typorgraphy: Sử dụng font chữ không chân (Sans-serif) sạch sẽ (như Inter hoặc Geist của Vercel), kích thước chữ lớn (16px cho body) để dễ đọc.7. Triển Khai Kỹ Thuật & Quản Lý Trạng Thái (Technical Implementation)7.1 Quản Lý Trạng Thái (State Management)Để đảm bảo trải nghiệm mượt mà khi người dùng di chuyển giữa các bước (hoặc lỡ tải lại trang):URL State: Đồng bộ bước hiện tại lên URL (ví dụ: ?step=technician). Điều này giúp nút Back của trình duyệt hoạt động đúng như mong đợi.29Zustand (Persist Middleware): Lưu trữ dữ liệu tạm (dịch vụ đã chọn, kỹ thuật viên) vào localStorage. Nếu app bị đóng đột ngột, khi mở lại có thể khôi phục trạng thái ("Bạn đang đặt dở...").307.2 Xác Thực Form (Form Validation) với ZodSử dụng thư viện Zod để định nghĩa schema cho từng bước. Điều này đảm bảo dữ liệu sạch trước khi gửi về server.Ví dụ Schema Bước 1: z.object({ serviceIds: z.array(z.string()).min(1, "Vui lòng chọn ít nhất 1 dịch vụ") }).Việc tích hợp Zod với React Hook Form giúp hiển thị lỗi (Error States) ngay lập tức (Inline validation) thay vì đợi bấm Submit mới báo lỗi.57.3 Tối Ưu Hóa Hiệu Năng (Next.js Optimization)Server Components: Render danh sách dịch vụ và Profile nhân viên trên Server (RSC) để giảm JS bundle size, giúp trang tải nhanh hơn trên mạng di động.Streaming: Sử dụng Suspense khi tải dữ liệu slot giờ từ OR-Tools (vốn có thể mất 1-2 giây để tính toán). Hiển thị Skeleton UI trong lúc chờ để giữ chân người dùng.8. Kết Luận & Khuyến NghịHệ thống đặt lịch Spa đa bước được đề xuất trong báo cáo này là sự tổng hòa giữa Tâm lý học hành vi người dùng (UX) và Sức mạnh kỹ thuật (Engineering).Về UX: Luồng đi từ Dịch vụ -> Nhân viên -> Thời gian giúp giảm tải nhận thức. Tính năng "Giữ chỗ tạm thời" với đồng hồ đếm ngược vừa giải quyết vấn đề kỹ thuật (trùng lịch) vừa là đòn bẩy tâm lý tăng chuyển đổi.Về UI: Việc tuân thủ nguyên tắc Mobile-first và Thumb-friendly thông qua hệ thống component shadcn/ui đảm bảo tính khả dụng cao nhất.Về Kỹ Thuật: Kiến trúc Next.js 16 + Supabase + OR-Tools tạo ra một hệ thống linh hoạt, bảo mật và có khả năng mở rộng (Scalable).Khuyến nghị triển khai:Nên bắt đầu với MVP (Minimum Viable Product) tập trung vào luồng Khách hàng trước.Tiến hành A/B Testing đối với vị trí của nút "No Preference" để đo lường mức độ ảnh hưởng thực tế đến việc tối ưu hóa lịch trình của thuật toán.Cân nhắc tích hợp Dynamic Pricing (Giá linh hoạt) trong tương lai: Giảm giá cho các slot giờ thấp điểm (Off-peak) ngay trên giao diện chọn giờ để điều hướng nhu cầu người dùng tốt hơn.Bằng cách thực thi chi tiết các đề xuất này, ứng dụng Spa sẽ không chỉ là một công cụ đặt lịch, mà trở thành một trợ lý đắc lực tối ưu hóa doanh thu và nâng tầm trải nghiệm thương hiệu.Lưu ý: Báo cáo này được biên soạn dựa trên vai trò chuyên gia UX/UI và tổng hợp dữ liệu từ các nghiên cứu thực tiễn về thiết kế ứng dụng mobile.
